<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chronic Illness Patient Portal</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4A90E2; /* Light Blue */
            --light-blue: #EAF2FF;
            --success-color: #5CB85C; /* Soft Green */
            --alert-color: #FFD166; /* Warm Yellow */
            --danger-color: #e74c3c; /* Red for errors */
            --text-color: #333333;
            --light-gray: #f5f7fa;
            --border-radius: 12px;
            --box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f8f9fa;
            color: var(--text-color);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        header {
            background-color: white;
            box-shadow: var(--box-shadow);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--primary-color);
            font-size: 1.5rem;
            font-weight: bold;
        }

        .logo i {
            font-size: 1.8rem;
        }

        .language-switcher {
            display: flex;
            gap: 10px;
        }

        .language-btn {
            background: none;
            border: 1px solid #e0e0e0;
            padding: 5px 12px;
            border-radius: 20px;
            cursor: pointer;
            transition: var(--transition);
        }

        .language-btn.active {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .language-btn:hover:not(.active) {
            background-color: var(--light-blue);
        }

        /* Main Content Styles */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .card {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            transition: var(--transition);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }

        .card-title {
            font-size: 1.2rem;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-title i {
            color: var(--primary-color);
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: var(--transition);
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.2);
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            font-size: 1rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-success {
            background-color: var(--success-color);
            color: white;
        }

        .btn-danger {
            background-color: var(--danger-color);
            color: var(--text-color);
        }

        .btn-primary:hover {
            background-color: #3A80D2;
        }

        .btn-success:hover {
            background-color: #4CAA4C;
        }

        .btn-danger:hover {
            background-color: #EFBF4C;
        }

        .btn-large {
            width: 100%;
            padding: 15px;
        }

        /* Pain Scale Slider */
        .pain-scale {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .scale-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: #666;
        }

        .mood-selector {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
        }

        .mood-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
            transition: var(--transition);
        }

        .mood-option:hover {
            background-color: var(--light-blue);
        }

        .mood-option.selected {
            background-color: var(--light-blue);
            color: var(--primary-color);
        }

        .mood-icon {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        /* Medication List */
        .medication-list {
            list-style: none;
        }

        .medication-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
            transition: var(--transition);
        }

        .medication-item:last-child {
            border-bottom: none;
        }

        .medication-item:hover {
            background-color: var(--light-gray);
        }

        .medication-info {
            display: flex;
            flex-direction: column;
        }

        .medication-name {
            font-weight: 600;
        }

        .medication-schedule {
            color: #666;
            font-size: 0.9rem;
        }

        .taken-status {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .medication-actions {
            display: flex;
            gap: 10px;
        }

        /* Charts */
        .chart-container {
            height: 200px;
            position: relative;
        }

        .chart-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .chart-tab {
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: var(--transition);
            background-color: var(--light-gray);
        }

        .chart-tab.active {
            background-color: var(--primary-color);
            color: white;
        }

        /* Log History */
        .log-history {
            max-height: 300px;
            overflow-y: auto;
        }

        .log-item {
            padding: 12px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
        }

        .log-date {
            color: #666;
            font-size: 0.9rem;
        }

        .log-pain {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .pain-indicator {
            height: 10px;
            width: 10px;
            border-radius: 50%;
        }

        /* ADR Button */
        .adr-button {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: var(--danger-color);
            color: var(--text-color);
            text-align: center;
            font-weight: 600;
            border-radius: var(--border-radius);
            margin-top: 30px;
            box-shadow: var(--box-shadow);
            cursor: pointer;
            transition: var(--transition);
            font-size: 1.1rem;
        }

        .adr-button:hover {
            background-color: #EFBF4C;
            transform: translateY(-2px);
        }

        .adr-button i {
            margin-right: 10px;
        }

        /* Reminders */
        .reminder {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: white;
            border-left: 5px solid var(--primary-color);
            padding: 15px 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            display: flex;
            align-items: center;
            justify-content: space-between;
            min-width: 300px;
            max-width: 500px;
            animation: slideUp 0.5s ease forwards;
            z-index: 1000;
        }

        .reminder-content {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .reminder-icon {
            color: var(--primary-color);
            font-size: 1.5rem;
        }

        .reminder-close {
            color: #999;
            cursor: pointer;
            font-size: 1.2rem;
            transition: var(--transition);
        }

        .reminder-close:hover {
            color: var(--text-color);
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translate(-50%, 20px);
            }
            to {
                opacity: 1;
                transform: translate(-50%, 0);
            }
        }

        /* AI Health Assistant Icon Styles */
        .ai-icon-container {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .ai-icon-container:hover {
            transform: scale(1.1);
        }
        
        .ai-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, #ffffff, #f0f0f0);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            border: 2px solid #e74c3c;
            position: relative;
        }
        
        .hospital-cross {
            position: absolute;
            top: 5px;
            color: #e74c3c;
            font-size: 20px;
            font-weight: bold;
        }
        
        .ai-icon i {
            color: #2c3e50;
            font-size: 25px;
            margin-top: 10px;
        }
        
        /* Chat Interface Styles */
        .chat-interface {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 380px;
            height: 600px;
            background: linear-gradient(to bottom, #ffffff, #f8f9fa);
            border-radius: 20px;
            box-shadow: 0 5px 25px rgba(0,0,0,0.15);
            display: none;
            overflow: hidden;
            z-index: 999;
            border: 1px solid #e3e3e3;
        }
        
        .chat-container {
            height: 100%;
            display: flex;
            flex-direction: column;
            background: #ffffff;
        }
        
        .chat-header {
            padding: 20px;
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            text-align: center;
        }
        
        .chat-box {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            background: rgba(255,255,255,0.95);
        }
        
        .message {
            margin: 10px 0;
            padding: 12px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .user-message {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            margin-left: 20%;
        }
        
        .bot-message {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            color: #2c3e50;
            margin-right: 20%;
            border: 1px solid #dee2e6;
        }
        
        .input-area {
            padding: 15px;
            background: #ffffff;
            border-top: 1px solid #dee2e6;
            display: flex;
            gap: 10px;
        }
        
        #user-input {
            flex: 1;
            padding: 12px;
            border: 2px solid #e74c3c;
            border-radius: 10px;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        #user-input:focus {
            outline: none;
            border-color: #c0392b;
            box-shadow: 0 0 5px rgba(231, 76, 60, 0.3);
        }
        
        .disclaimer {
            color: #e74c3c;
            text-align: center;
            margin: 10px;
            font-size: 12px;
            padding: 8px;
            background: #fff5f5;
            border-radius: 8px;
            border: 1px solid #fad7d7;
        }
        
        .symptoms-list {
            text-align: center;
            margin: 10px;
            color: #666;
            font-style: italic;
            font-size: 12px;
            padding: 8px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .header-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .chat-interface {
                width: 90%;
                right: 5%;
                bottom: 90px;
            }
            
            .ai-icon-container {
                bottom: 20px;
                right: 20px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-container">
            <div class="logo">
                <i class="fas fa-heartbeat"></i>
                <span class="logo-text">SmartCare Portal</span>
            </div>
            <div class="language-switcher">
                <button class="language-btn active" data-lang="en">English</button>
                <button class="language-btn" data-lang="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
                <button class="language-btn" data-lang="kn">‡≤ï‡≤®‡≥ç‡≤®‡≤°</button>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="dashboard">
            <!-- Daily Symptom Logging Card -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title"><i class="fas fa-notes-medical"></i> <span class="translate" data-key="symptom-log">Daily Symptom Log</span></h2>
                </div>
                <form id="symptom-form">
                    <div class="form-group">
                        <label for="pain-level" class="translate" data-key="pain-level">Pain Level</label>
                        <div class="pain-scale">
                            <input type="range" id="pain-level" min="0" max="10" value="3" step="1">
                            <div class="scale-labels">
                                <span class="translate" data-key="no-pain">No Pain</span>
                                <span class="translate" data-key="moderate">Moderate</span>
                                <span class="translate" data-key="severe">Severe</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="translate" data-key="mood">Mood</label>
                        <div class="mood-selector">
                            <div class="mood-option" data-mood="great">
                                <div class="mood-icon">üòÑ</div>
                                <span class="translate" data-key="great">Great</span>
                            </div>
                            <div class="mood-option selected" data-mood="good">
                                <div class="mood-icon">üôÇ</div>
                                <span class="translate" data-key="good">Good</span>
                            </div>
                            <div class="mood-option" data-mood="okay">
                                <div class="mood-icon">üòê</div>
                                <span class="translate" data-key="okay">Okay</span>
                            </div>
                            <div class="mood-option" data-mood="bad">
                                <div class="mood-icon">üòû</div>
                                <span class="translate" data-key="bad">Bad</span>
                            </div>
                            <div class="mood-option" data-mood="terrible">
                                <div class="mood-icon">üò£</div>
                                <span class="translate" data-key="terrible">Terrible</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="notes" class="translate" data-key="notes">Notes</label>
                        <textarea id="notes" rows="3" placeholder="Add any additional notes about your symptoms..."></textarea>
                    </div>
                    
                    <button type="submit" class="btn btn-success btn-large">
                        <i class="fas fa-save"></i> <span class="translate" data-key="save-log">Save Log</span>
                    </button>
                </form>
            </div>
            
            <!-- Medication Tracking Card -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title"><i class="fas fa-pills"></i> <span class="translate" data-key="medications">Medications</span></h2>
                </div>
                <ul class="medication-list">
                    <li class="medication-item">
                        <div class="medication-info">
                            <span class="medication-name">Metformin</span>
                            <span class="medication-schedule">500mg - Morning</span>
                        </div>
                        <div class="medication-actions">
                            <button class="btn btn-primary med-taken-btn">
                                <i class="fas fa-check"></i> <span class="translate" data-key="taken">Taken</span>
                            </button>
                            <button class="btn btn-danger med-note-btn">
                                <i class="fas fa-sticky-note"></i>
                            </button>
                        </div>
                    </li>
                    <li class="medication-item">
                        <div class="medication-info">
                            <span class="medication-name">Lisinopril</span>
                            <span class="medication-schedule">10mg - Evening</span>
                        </div>
                        <div class="medication-actions">
                            <button class="btn btn-primary med-taken-btn">
                                <i class="fas fa-check"></i> <span class="translate" data-key="taken">Taken</span>
                            </button>
                            <button class="btn btn-danger med-note-btn">
                                <i class="fas fa-sticky-note"></i>
                            </button>
                        </div>
                    </li>
                    <li class="medication-item">
                        <div class="medication-info">
                            <span class="medication-name">Vitamin D</span>
                            <span class="medication-schedule">1000 IU - With meal</span>
                        </div>
                        <div class="medication-actions">
                            <button class="btn btn-primary med-taken-btn">
                                <i class="fas fa-check"></i> <span class="translate" data-key="taken">Taken</span>
                            </button>
                            <button class="btn btn-danger med-note-btn">
                                <i class="fas fa-sticky-note"></i>
                            </button>
                        </div>
                    </li>
                </ul>
            </div>
            
            <!-- Symptom Trends Chart -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title"><i class="fas fa-chart-line"></i> <span class="translate" data-key="symptom-trends">Symptom Trends</span></h2>
                </div>
                <div class="chart-tabs">
                    <div class="chart-tab active" data-view="daily">
                        <span class="translate" data-key="daily">Daily</span>
                    </div>
                    <div class="chart-tab" data-view="weekly">
                        <span class="translate" data-key="weekly">Weekly</span>
                    </div>
                    <div class="chart-tab" data-view="monthly">
                        <span class="translate" data-key="monthly">Monthly</span>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="symptomChart"></canvas>
                </div>
            </div>
            
            <!-- Log History -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title"><i class="fas fa-history"></i> <span class="translate" data-key="log-history">Log History</span></h2>
                </div>
                <div class="log-history">
                    <div class="log-item">
                        <div>
                            <div class="translate" data-key="today">Today</div>
                            <div class="log-date">12 Apr, 10:30 AM</div>
                        </div>
                        <div class="log-pain">
                            <div class="pain-indicator" style="background-color: #FFD166;"></div>
                            <span>4/10</span>
                        </div>
                    </div>
                    <div class="log-item">
                        <div>
                            <div class="translate" data-key="yesterday">Yesterday</div>
                            <div class="log-date">11 Apr, 09:15 AM</div>
                        </div>
                        <div class="log-pain">
                            <div class="pain-indicator" style="background-color: #FF9F1C;"></div>
                            <span>5/10</span>
                        </div>
                    </div>
                    <div class="log-item">
                        <div>
                            <div>10 Apr 2025</div>
                            <div class="log-date">08:45 AM</div>
                        </div>
                        <div class="log-pain">
                            <div class="pain-indicator" style="background-color: #FF9F1C;"></div>
                            <span>6/10</span>
                        </div>
                    </div>
                    <div class="log-item">
                        <div>
                            <div>09 Apr 2025</div>
                            <div class="log-date">09:30 AM</div>
                        </div>
                        <div class="log-pain">
                            <div class="pain-indicator" style="background-color: #FFD166;"></div>
                            <span>4/10</span>
                        </div>
                    </div>
                    <div class="log-item">
                        <div>
                            <div>08 Apr 2025</div>
                            <div class="log-date">10:00 AM</div>
                        </div>
                        <div class="log-pain">
                            <div class="pain-indicator" style="background-color: #70C1B3;"></div>
                            <span>2/10</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ADR Check Button -->
        <div class="adr-button">
            <i class="fas fa-exclamation-triangle"></i> <span class="translate" data-key="report-problem">Report Problem or Check Side Effects</span>
        </div>
    </div>

    <!-- Reminder Toast Notification -->
    <div class="reminder" id="reminder" style="display: none;">
        <div class="reminder-content">
            <div class="reminder-icon">
                <i class="fas fa-bell"></i>
            </div>
            <div class="reminder-message">
                <strong class="translate" data-key="reminder">Reminder:</strong> <span id="reminder-text">Time to take your evening medication</span>
            </div>
        </div>
        <div class="reminder-close">
            <i class="fas fa-times"></i>
        </div>
    </div>

    <!-- AI Health Assistant Icon -->
    <div class="ai-icon-container" onclick="toggleChat()">
        <div class="ai-icon">
            <span class="hospital-cross">+</span>
            <i class="fas fa-user-md"></i>
        </div>
    </div>

    <!-- Chat Interface -->
    <div class="chat-interface" id="chat-interface">
        <div class="chat-container">
            <div class="chat-header">
                <h2>Virtual Health Assistant</h2>
                <div class="disclaimer">
                    ‚ö†Ô∏è MEDICAL DISCLAIMER: These are general home remedies only. 
                    Please consult a healthcare professional for proper medical advice.
                    Use remedies at your own risk.
                </div>
                <div class="symptoms-list">
                    Available symptoms: headache, cold, fever, cough, stomachache, 
                    sore throat, allergies, insomnia, joint pain, nausea, constipation, diarrhea
                </div>
            </div>
            <div class="chat-box" id="chat-box">
                <div class="message bot-message">
                    Hello! I'm your Virtual Health Assistant. How can I help you today? Please describe your symptoms.
                </div>
            </div>
            <div class="input-area">
                <input type="text" id="user-input" placeholder="Describe your symptoms...">
                <button onclick="sendMessage()">Send</button>
            </div>
        </div>
    </div>

    <!-- Include Chart.js from CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
    
    <script>
        // Language translations
        const translations = {
            'en': {
                'symptom-log': 'Daily Symptom Log',
                'pain-level': 'Pain Level',
                'no-pain': 'No Pain',
                'moderate': 'Moderate',
                'severe': 'Severe',
                'mood': 'Mood',
                'great': 'Great',
                'good': 'Good',
                'okay': 'Okay',
                'bad': 'Bad',
                'terrible': 'Terrible',
                'notes': 'Notes',
                'save-log': 'Save Log',
                'medications': 'Medications',
                'taken': 'Taken',
                'symptom-trends': 'Symptom Trends',
                'daily': 'Daily',
                'weekly': 'Weekly',
                'monthly': 'Monthly',
                'log-history': 'Log History',
                'today': 'Today',
                'yesterday': 'Yesterday',
                'report-problem': 'Report Problem or Check Side Effects',
                'reminder': 'Reminder:'
            },
            'hi': {
                'symptom-log': '‡§¶‡•à‡§®‡§ø‡§ï ‡§≤‡§ï‡•ç‡§∑‡§£ ‡§≤‡•â‡§ó',
                'pain-level': '‡§¶‡§∞‡•ç‡§¶ ‡§ï‡§æ ‡§∏‡•ç‡§§‡§∞',
                'no-pain': '‡§ï‡•ã‡§à ‡§¶‡§∞‡•ç‡§¶ ‡§®‡§π‡•Ä‡§Ç',
                'moderate': '‡§Æ‡§ß‡•ç‡§Ø‡§Æ',
                'severe': '‡§ó‡§Ç‡§≠‡•Ä‡§∞',
                'mood': '‡§Æ‡•Ç‡§°',
                'great': '‡§¨‡§π‡•Å‡§§ ‡§Ö‡§ö‡•ç‡§õ‡§æ',
                'good': '‡§Ö‡§ö‡•ç‡§õ‡§æ',
                'okay': '‡§†‡•Ä‡§ï',
                'bad': '‡§¨‡•Å‡§∞‡§æ',
                'terrible': '‡§¨‡§π‡•Å‡§§ ‡§¨‡•Å‡§∞‡§æ',
                'notes': '‡§®‡•ã‡§ü‡•ç‡§∏',
                'save-log': '‡§≤‡•â‡§ó ‡§∏‡§π‡•á‡§ú‡•á‡§Ç',
                'medications': '‡§¶‡§µ‡§æ‡§á‡§Ø‡§æ‡§Ç',
                'taken': '‡§≤‡•Ä ‡§ó‡§à',
                'symptom-trends': '‡§≤‡§ï‡•ç‡§∑‡§£ ‡§™‡•ç‡§∞‡§µ‡•É‡§§‡•ç‡§§‡§ø‡§Ø‡§æ‡§Ç',
'daily': '‡§¶‡•à‡§®‡§ø‡§ï',
                'weekly': '‡§∏‡§æ‡§™‡•ç‡§§‡§æ‡§π‡§ø‡§ï',
                'monthly': '‡§Æ‡§æ‡§∏‡§ø‡§ï',
                'log-history': '‡§≤‡•â‡§ó ‡§á‡§§‡§ø‡§π‡§æ‡§∏',
                'today': '‡§Ü‡§ú',
                'yesterday': '‡§ï‡§≤',
                'report-problem': '‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§ï‡•Ä ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç ‡§Ø‡§æ ‡§∏‡§æ‡§á‡§° ‡§á‡§´‡•á‡§ï‡•ç‡§ü‡•ç‡§∏ ‡§ú‡§æ‡§Ç‡§ö‡•á‡§Ç',
                'reminder': '‡§Ö‡§®‡•Å‡§∏‡•ç‡§Æ‡§æ‡§∞‡§ï:'
            },
            'kn': {
                'symptom-log': '‡≤¶‡≥à‡≤®‡≤Ç‡≤¶‡≤ø‡≤® ‡≤∞‡≥ã‡≤ó‡≤≤‡≤ï‡≥ç‡≤∑‡≤£ ‡≤¶‡≤æ‡≤ñ‡≤≤‡≥Ü',
                'pain-level': '‡≤®‡≥ã‡≤µ‡≤ø‡≤® ‡≤Æ‡≤ü‡≥ç‡≤ü',
                'no-pain': '‡≤®‡≥ã‡≤µ‡≤ø‡≤≤‡≥ç‡≤≤',
                'moderate': '‡≤Æ‡≤ß‡≥ç‡≤Ø‡≤Æ',
                'severe': '‡≤§‡≥Ä‡≤µ‡≥ç‡≤∞',
                'mood': '‡≤Æ‡≤®‡≤∏‡≥ç‡≤•‡≤ø‡≤§‡≤ø',
                'great': '‡≤Ö‡≤¶‡≥ç‡≤≠‡≥Å‡≤§',
                'good': '‡≤í‡≤≥‡≥ç‡≤≥‡≥Ü‡≤Ø‡≤¶‡≥Å',
                'okay': '‡≤∏‡≤∞‡≤ø',
                'bad': '‡≤ï‡≥Ü‡≤ü‡≥ç‡≤ü‡≤¶‡≥Å',
                'terrible': '‡≤Ö‡≤§‡≥ç‡≤Ø‡≤Ç‡≤§ ‡≤ï‡≥Ü‡≤ü‡≥ç‡≤ü‡≤¶‡≥Å',
                'notes': '‡≤ü‡≤ø‡≤™‡≥ç‡≤™‡≤£‡≤ø‡≤ó‡≤≥‡≥Å',
                'save-log': '‡≤¶‡≤æ‡≤ñ‡≤≤‡≥Ü ‡≤â‡≤≥‡≤ø‡≤∏‡≤ø',
                'medications': '‡≤î‡≤∑‡≤ß‡≤ø‡≤ó‡≤≥‡≥Å',
                'taken': '‡≤§‡≥Ü‡≤ó‡≥Ü‡≤¶‡≥Å‡≤ï‡≥ä‡≤Ç‡≤°‡≤ø‡≤¶‡≥Ü',
                'symptom-trends': '‡≤∞‡≥ã‡≤ó‡≤≤‡≤ï‡≥ç‡≤∑‡≤£ ‡≤™‡≥ç‡≤∞‡≤µ‡≥É‡≤§‡≥ç‡≤§‡≤ø‡≤ó‡≤≥‡≥Å',
                'daily': '‡≤¶‡≥à‡≤®‡≤Ç‡≤¶‡≤ø‡≤®',
                'weekly': '‡≤µ‡≤æ‡≤∞‡≤¶',
                'monthly': '‡≤Æ‡≤æ‡≤∏‡≤ø‡≤ï',
                'log-history': '‡≤¶‡≤æ‡≤ñ‡≤≤‡≥Ü ‡≤á‡≤§‡≤ø‡≤π‡≤æ‡≤∏',
                'today': '‡≤á‡≤Ç‡≤¶‡≥Å',
                'yesterday': '‡≤®‡≤ø‡≤®‡≥ç‡≤®‡≥Ü',
                'report-problem': '‡≤∏‡≤Æ‡≤∏‡≥ç‡≤Ø‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤µ‡≤∞‡≤¶‡≤ø ‡≤Æ‡≤æ‡≤°‡≤ø ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤Ö‡≤°‡≥ç‡≤° ‡≤™‡≤∞‡≤ø‡≤£‡≤æ‡≤Æ‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤™‡≤∞‡≤ø‡≤∂‡≥Ä‡≤≤‡≤ø‡≤∏‡≤ø',
                'reminder': '‡≤ú‡≥ç‡≤û‡≤æ‡≤™‡≤®‡≥Ü:'
            }
        };

        // Language switcher functionality
        document.querySelectorAll('.language-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const lang = this.getAttribute('data-lang');
                changeLanguage(lang);
                
                // Update active button
                document.querySelectorAll('.language-btn').forEach(b => {
                    b.classList.remove('active');
                });
                this.classList.add('active');
            });
        });

        function changeLanguage(lang) {
            const elementsToTranslate = document.querySelectorAll('.translate');
            elementsToTranslate.forEach(element => {
                const key = element.getAttribute('data-key');
                if (translations[lang] && translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });

            // Update placeholders
            if (lang === 'en') {
                document.getElementById('notes').placeholder = 'Add any additional notes about your symptoms...';
                document.getElementById('user-input').placeholder = 'Describe your symptoms...';
            } else if (lang === 'hi') {
                document.getElementById('notes').placeholder = '‡§Ö‡§™‡§®‡•á ‡§≤‡§ï‡•ç‡§∑‡§£‡•ã‡§Ç ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‡§®‡•ã‡§ü‡•ç‡§∏ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç...';
                document.getElementById('user-input').placeholder = '‡§Ö‡§™‡§®‡•á ‡§≤‡§ï‡•ç‡§∑‡§£‡•ã‡§Ç ‡§ï‡§æ ‡§µ‡§∞‡•ç‡§£‡§® ‡§ï‡§∞‡•á‡§Ç...';
            } else if (lang === 'kn') {
                document.getElementById('notes').placeholder = '‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤∞‡≥ã‡≤ó‡≤≤‡≤ï‡≥ç‡≤∑‡≤£‡≤ó‡≤≥ ‡≤¨‡≤ó‡≥ç‡≤ó‡≥Ü ‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≥Å‡≤µ‡≤∞‡≤ø ‡≤ü‡≤ø‡≤™‡≥ç‡≤™‡≤£‡≤ø‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø...';
                document.getElementById('user-input').placeholder = '‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤∞‡≥ã‡≤ó‡≤≤‡≤ï‡≥ç‡≤∑‡≤£‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤µ‡≤ø‡≤µ‡≤∞‡≤ø‡≤∏‡≤ø...';
            }
        }

        // Symptom form submission
        document.getElementById('symptom-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form values
            const painLevel = document.getElementById('pain-level').value;
            const selectedMood = document.querySelector('.mood-option.selected').getAttribute('data-mood');
            const notes = document.getElementById('notes').value;
            
            // Add to log history
            addLogEntry(painLevel);
            
            // Update chart
            updateChart(painLevel);
            
            // Show confirmation toast
            showReminder("Symptom log saved successfully!");
            
            // Clear form
            document.getElementById('notes').value = '';
        });
        
        // Mood selector functionality
        document.querySelectorAll('.mood-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.mood-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                this.classList.add('selected');
            });
        });
        
        // Medication taken button functionality
        document.querySelectorAll('.med-taken-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                this.innerHTML = '<i class="fas fa-check-double"></i> <span class="translate" data-key="taken">Taken</span>';
                this.style.backgroundColor = '#5CB85C';
                this.disabled = true;
                
                // Show confirmation
                const medName = this.closest('.medication-item').querySelector('.medication-name').textContent;
                showReminder(`${medName} marked as taken!`);
            });
        });
        
        // Function to add log entry
        function addLogEntry(painLevel) {
            const logHistory = document.querySelector('.log-history');
            const today = new Date();
            const formattedDate = today.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            // Get pain color based on level
            let painColor;
            if (painLevel <= 3) {
                painColor = '#70C1B3'; // Green for low pain
            } else if (painLevel <= 6) {
                painColor = '#FFD166'; // Yellow for medium pain
            } else {
                painColor = '#E07A5F'; // Red for high pain
            }
            
            const logItem = document.createElement('div');
            logItem.className = 'log-item';
            logItem.innerHTML = `
                <div>
                    <div class="translate" data-key="today">Today</div>
                    <div class="log-date">${formattedDate}</div>
                </div>
                <div class="log-pain">
                    <div class="pain-indicator" style="background-color: ${painColor};"></div>
                    <span>${painLevel}/10</span>
                </div>
            `;
            
            // Add to the top of the list
            logHistory.insertBefore(logItem, logHistory.firstChild);
        }
        
        // Chart setup
        let symptomChart;
        
        function setupChart() {
            const ctx = document.getElementById('symptomChart').getContext('2d');
            
            // Sample data
            const data = {
                labels: ['Apr 6', 'Apr 7', 'Apr 8', 'Apr 9', 'Apr 10', 'Apr 11', 'Apr 12'],
                datasets: [{
                    label: 'Pain Level',
                    data: [3, 5, 2, 4, 6, 5, 4],
                    borderColor: '#4A90E2',
                    backgroundColor: 'rgba(74, 144, 226, 0.1)',
                    fill: true,
                    tension: 0.4
                }]
            };
            
            symptomChart = new Chart(ctx, {
                type: 'line',
                data: data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 10,
                            ticks: {
                                stepSize: 2
                            }
                        }
                    },
                    animation: {
                        duration: 1000,
                        easing: 'easeOutQuart'
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }
        
        // Function to update chart with new data
        function updateChart(newPainLevel) {
            // Remove the oldest data point
            symptomChart.data.datasets[0].data.shift();
            
            // Add the new data point
            symptomChart.data.datasets[0].data.push(parseInt(newPainLevel));
            
            // Update chart
            symptomChart.update();
        }
        
        // Chart tab switching
        document.querySelectorAll('.chart-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                const view = this.getAttribute('data-view');
                
                // Update active tab
                document.querySelectorAll('.chart-tab').forEach(t => {
                    t.classList.remove('active');
                });
                this.classList.add('active');
                
                // Update chart data based on view
                updateChartView(view);
            });
        });
        
        function updateChartView(view) {
            // Sample data for different views
            let labels, data;
            
            if (view === 'daily') {
                labels = ['Apr 6', 'Apr 7', 'Apr 8', 'Apr 9', 'Apr 10', 'Apr 11', 'Apr 12'];
                data = [3, 5, 2, 4, 6, 5, 4];
            } else if (view === 'weekly') {
                labels = ['Week 1', 'Week 2', 'Week 3', 'Week 4'];
                data = [4, 3, 5, 4];
            } else if (view === 'monthly') {
                labels = ['Jan', 'Feb', 'Mar', 'Apr'];
                data = [6, 5, 4, 4];
            }
            
            // Update chart
            symptomChart.data.labels = labels;
            symptomChart.data.datasets[0].data = data;
            symptomChart.update();
        }
        
        // Show reminder/toast notification
        function showReminder(message) {
            const reminder = document.getElementById('reminder');
            document.getElementById('reminder-text').textContent = message;
            
            reminder.style.display = 'flex';
            
            // Auto-hide after 5 seconds
            setTimeout(() => {
                reminder.style.display = 'none';
            }, 5000);
        }
        
        // Close reminder button
        document.querySelector('.reminder-close').addEventListener('click', function() {
            document.getElementById('reminder').style.display = 'none';
        });
        
        // ADR Button click
        document.querySelector('.adr-button').addEventListener('click', function() {
            showReminder("Opening adverse drug reaction report form...");
            // In a real application, this would open a form or redirect to a reporting page
        });
        
        // AI Health Assistant Chat Functions
        const remedies = {
            'headache': 'You might try:\n- Rest in a quiet, dark room\n- Apply a cold or warm compress\n- Stay hydrated\n- Ginger tea\n- Peppermint oil on temples\n- Massage your temples gently',
            'cold': 'Consider these remedies:\n- Honey and warm lemon water\n- Steam inhalation\n- Ginger tea\n- Rest and stay hydrated\n- Garlic soup\n- Vitamin C rich foods',
            'fever': 'Try these:\n- Rest\n- Stay hydrated\n- Lukewarm sponge bath\n- Light clothing\n- Tulsi (Holy Basil) tea\n- Apple cider vinegar compress',
            'cough': 'These might help:\n- Honey with warm water\n- Turmeric milk\n- Steam inhalation\n- Ginger-honey mixture\n- Salt water gargle\n- Thyme tea',
            'stomachache': 'Consider these remedies:\n- Ginger tea\n- Peppermint tea\n- BRAT diet (Bananas, Rice, Applesauce, Toast)\n- Warm compress\n- Apple cider vinegar with water\n- Plain yogurt',
            'sore throat': 'Try these soothing remedies:\n- Salt water gargle\n- Honey and warm water\n- Chamomile tea\n- Slippery elm tea\n- Apple cider vinegar gargle',
            'allergies': 'These might provide relief:\n- Local honey\n- Steam inhalation with eucalyptus\n- Nettle tea\n- Saline nasal rinse\n- Apple cider vinegar',
            'insomnia': 'Try these before bed:\n- Chamomile tea\n- Warm milk with honey\n- Lavender essential oil\n- Deep breathing exercises\n- Avoid screens before bedtime',
            'joint pain': 'Consider these natural remedies:\n- Turmeric milk\n- Ginger compress\n- Epsom salt bath\n- Apple cider vinegar drink\n- Gentle stretching',
            'nausea': 'These might help settle your stomach:\n- Ginger tea\n- Peppermint tea\n- Small sips of clear fluids\n- BRAT diet\n- Lemon water',
            'constipation': 'Try these natural remedies:\n- Warm water with lemon in morning\n- Increase fiber intake\n- Prune juice\n- Exercise\n- Massage abdomen',
            'diarrhea': 'Consider these remedies:\n- BRAT diet\n- Stay hydrated\n- Chamomile tea\n- Probiotics\n- Apple cider vinegar\n- Clear broths'
        };

        function toggleChat() {
            const chatInterface = document.getElementById('chat-interface');
            chatInterface.style.display = chatInterface.style.display === 'none' ? 'block' : 'none';
        }

        function sendMessage() {
            const input = document.getElementById('user-input');
            const chatBox = document.getElementById('chat-box');
            
            if (input.value.trim() === '') return;

            // Add user message
            chatBox.innerHTML += `<div class="message user-message">${input.value}</div>`;

            // Generate response based on keywords
            let response = "I understand you're not feeling well. ";
            let foundSymptom = false;
            
            for (let symptom in remedies) {
                if (input.value.toLowerCase().includes(symptom)) {
                    response += remedies[symptom];
                    foundSymptom = true;
                }
            }
            
            if (!foundSymptom) {
                response += "Could you please provide more specific symptoms? I can suggest home remedies for various conditions including headache, cold, fever, cough, stomachache, sore throat, allergies, insomnia, joint pain, nausea, constipation, and diarrhea.";
            }

            // Add bot response with delay
            setTimeout(() => {
                chatBox.innerHTML += `<div class="message bot-message">${response}</div>`;
                chatBox.scrollTop = chatBox.scrollHeight;
            }, 500);

            input.value = '';
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        // Allow Enter key to send message
        document.getElementById('user-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
        
        // Show a reminder after the page loads
        window.addEventListener('load', function() {
            // Initialize the chart
            setupChart();
            
            // Init chat interface as hidden
            document.getElementById('chat-interface').style.display = 'none';
            
            // Show a welcome reminder after 3 seconds
            setTimeout(() => {
                showReminder("Welcome back! Don't forget to log your symptoms today.");
            }, 3000);
        });
    </script>
</body>
</html>
